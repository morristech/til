@import '../../css-utils/dotted-background.css';

.root {
  @apply relative mx-0 my-lg;
  background: linear-gradient(
    to bottom,
    transparent 15%,
    theme('colors.gray.200') 15%,
    theme('colors.gray.200') 85%,
    transparent 85%
  );
}

.root > :global(img) {
  /* /project-switcher-using-startify has a big image */
  /* /arch-linux-wifi-using-netctl has a partial image */
  @apply block max-w-full mx-auto rounded-sm;
}

.isWide {
  @screen md {
    @apply -mx-4;
  }
}

/* Filename heading */
.root > :global(figcaption:first-child) {
  @apply px-4 m-0 -mb-8 text-sm text-center rounded-t-md relative truncate;
  height: 2.25rem;
  line-height: 2.25rem;
  font-size: 0.8em;
  color: theme('colors.window.text');
  background: theme('colors.window.title');
  box-shadow: inset 0 -1px 0 theme('colors.window.line');
  user-select: none;
}

/* TODO refactor this */
.root > :global(figcaption:first-child ~ *) {
  @apply rounded-t-none;
}

.window-traffic-lights {
  content: '';
  @apply absolute block rounded-full;
  width: 0.25rem;
  height: 0.25rem;
  margin-top: -0.125rem;
  top: 50%;
  left: 1rem;
  background: theme('colors.window.text');
  box-shadow: 1.5rem 0 0 theme('colors.window.text'),
    3rem 0 0 theme('colors.window.text');
  opacity: 0.5;
}

.root > :global(figcaption:first-child::before) {
  @apply window-traffic-lights;
}

/*
 * Cover
 */

.cover {
  & {
    @apply relative my-12;

    @screen md {
      @apply mb-20 -mx-32;
    }
  }

  /* Screen thing */
  &::after {
    @apply absolute z-auto block;
    @apply dotted-background-12;
    content: '';
    top: 4rem;
    bottom: -2rem;
    left: -18rem;
    right: -18rem;
  }

  & :global(.gatsby-resp-image-wrapper) {
    @apply relative z-10;
  }

  & > :global(img) {
    @apply relative z-10 object-cover w-full bg-gray-800 shadow-32;
    border-radius: 3px;
    height: 16rem;

    @screen md {
      height: 24rem;
    }
  }
}

.table {
  & {
    @apply relative shadow-8;
    @apply border-gray-300 border-solid;

    @screen md {
      @apply -mx-16 my-lg;
    }
  }

  & > :global(table) {
    @apply m-0 bg-white;
  }
}
